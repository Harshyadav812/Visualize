@import "tailwindcss";
@import "tw-animate-css";
@import "./styles/design-tokens.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Radius tokens from design system */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  
  /* Map design tokens to Tailwind color system */
  --color-background: var(--color-background-primary);
  --color-foreground: var(--color-text-primary);
  --color-card: var(--color-surface-primary);
  --color-card-foreground: var(--color-text-primary);
  --color-popover: var(--color-surface-primary);
  --color-popover-foreground: var(--color-text-primary);
  --color-primary: var(--color-accent-primary);
  --color-primary-foreground: #ffffff;
  --color-secondary: var(--color-surface-secondary);
  --color-secondary-foreground: var(--color-text-primary);
  --color-muted: var(--color-surface-secondary);
  --color-muted-foreground: var(--color-text-muted);
  --color-accent: var(--color-surface-tertiary);
  --color-accent-foreground: var(--color-text-primary);
  --color-destructive: var(--color-accent-error);
  --color-border: var(--color-border-primary);
  --color-input: var(--color-surface-primary);
  --color-ring: var(--color-accent-primary);
  
  /* Chart colors using design system */
  --color-chart-1: var(--color-accent-primary);
  --color-chart-2: var(--color-accent-secondary);
  --color-chart-3: var(--color-accent-warning);
  --color-chart-4: #8b5cf6;
  --color-chart-5: #ec4899;
  
  /* Sidebar colors */
  --color-sidebar: var(--color-surface-primary);
  --color-sidebar-foreground: var(--color-text-primary);
  --color-sidebar-primary: var(--color-accent-primary);
  --color-sidebar-primary-foreground: #ffffff;
  --color-sidebar-accent: var(--color-surface-tertiary);
  --color-sidebar-accent-foreground: var(--color-text-primary);
  --color-sidebar-border: var(--color-border-primary);
  --color-sidebar-ring: var(--color-accent-primary);
}

/* Legacy Tailwind theme variables - now using design tokens as default dark theme */
:root {
  --radius: var(--radius-md);
  
  /* Use design tokens for dark theme by default */
  --background: var(--color-background-primary);
  --foreground: var(--color-text-primary);
  --card: var(--color-surface-primary);
  --card-foreground: var(--color-text-primary);
  --popover: var(--color-surface-primary);
  --popover-foreground: var(--color-text-primary);
  --primary: var(--color-accent-primary);
  --primary-foreground: #ffffff;
  --secondary: var(--color-surface-secondary);
  --secondary-foreground: var(--color-text-primary);
  --muted: var(--color-surface-secondary);
  --muted-foreground: var(--color-text-muted);
  --accent: var(--color-surface-tertiary);
  --accent-foreground: var(--color-text-primary);
  --destructive: var(--color-accent-error);
  --border: var(--color-border-primary);
  --input: var(--color-surface-primary);
  --ring: var(--color-accent-primary);
  
  /* Chart colors */
  --chart-1: var(--color-accent-primary);
  --chart-2: var(--color-accent-secondary);
  --chart-3: var(--color-accent-warning);
  --chart-4: #8b5cf6;
  --chart-5: #ec4899;
  
  /* Sidebar colors */
  --sidebar: var(--color-surface-primary);
  --sidebar-foreground: var(--color-text-primary);
  --sidebar-primary: var(--color-accent-primary);
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: var(--color-surface-tertiary);
  --sidebar-accent-foreground: var(--color-text-primary);
  --sidebar-border: var(--color-border-primary);
  --sidebar-ring: var(--color-accent-primary);
}

/* Dark theme is now the default - keeping this for potential light theme toggle */
.light {
  /* Light theme overrides would go here if needed in the future */
  --background: #ffffff;
  --foreground: #0a0a0b;
  --card: #ffffff;
  --card-foreground: #0a0a0b;
  /* Additional light theme tokens would be defined here */
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-family-sans);
    line-height: var(--line-height-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Apply design token font families */
  code, pre, .font-mono {
    font-family: var(--font-family-mono);
  }
  
  /* Ensure consistent focus styles */
  *:focus-visible {
    outline: 2px solid var(--color-accent-primary);
    outline-offset: 2px;
  }
  
  /* Smooth transitions for interactive elements */
  button, input, textarea, select {
    transition: all var(--duration-fast) var(--ease-out);
  }
}

@layer utilities {
  /* Design token color utilities */
  .bg-background-primary { background-color: var(--color-background-primary); }
  .bg-background-secondary { background-color: var(--color-background-secondary); }
  .bg-surface-primary { background-color: var(--color-surface-primary); }
  .bg-surface-secondary { background-color: var(--color-surface-secondary); }
  .bg-surface-tertiary { background-color: var(--color-surface-tertiary); }
  
  .text-text-primary { color: var(--color-text-primary); }
  .text-text-secondary { color: var(--color-text-secondary); }
  .text-text-tertiary { color: var(--color-text-tertiary); }
  .text-text-muted { color: var(--color-text-muted); }
  
  .text-accent-primary { color: var(--color-accent-primary); }
  .text-accent-secondary { color: var(--color-accent-secondary); }
  .text-accent-warning { color: var(--color-accent-warning); }
  .text-accent-error { color: var(--color-accent-error); }
  
  .border-surface-tertiary { border-color: var(--color-surface-tertiary); }
  .border-border-primary { border-color: var(--color-border-primary); }
  .border-border-secondary { border-color: var(--color-border-secondary); }
  
  /* Backdrop blur utilities */
  .backdrop-blur-sm { backdrop-filter: blur(4px); }
}
